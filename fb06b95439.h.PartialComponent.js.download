'https://github.com/swmff/rainbeam';function _array_like_to_array(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function _array_without_holes(t){if(Array.isArray(t))return _array_like_to_array(t)}function _assert_this_initialized(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function asyncGeneratorStep(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){r(t);return}c.done?e(u):Promise.resolve(u).then(n,o)}function _async_to_generator(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){asyncGeneratorStep(i,n,o,a,c,"next",t)}function c(t){asyncGeneratorStep(i,n,o,a,c,"throw",t)}a(void 0)})}}function _call_super(t,e,r){return e=_get_prototype_of(e),_possible_constructor_return(t,_is_native_reflect_construct()?Reflect.construct(e,r||[],_get_prototype_of(t).constructor):e.apply(t,r))}function _class_call_check(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function _construct(t,e,r){return(_construct=_is_native_reflect_construct()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&_set_prototype_of(o,r.prototype),o}).apply(null,arguments)}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _create_class(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _define_property(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _get_prototype_of(t){return(_get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_set_prototype_of(t,e)}function _is_native_function(t){return -1!==Function.toString.call(t).indexOf("[native code]")}function _iterable_to_array(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _possible_constructor_return(t,e){return e&&("object"===_type_of(e)||"function"==typeof e)?e:_assert_this_initialized(t)}function _set_prototype_of(t,e){return(_set_prototype_of=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _to_consumable_array(t){return _array_without_holes(t)||_iterable_to_array(t)||_unsupported_iterable_to_array(t)||_non_iterable_spread()}function _type_of(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function _unsupported_iterable_to_array(t,e){if(t){if("string"==typeof t)return _array_like_to_array(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _array_like_to_array(t,e)}}function _wrap_native_super(t){var e="function"==typeof Map?new Map:void 0;return(_wrap_native_super=function(t){if(null===t||!_is_native_function(t))return t;if("function"!=typeof t)throw TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return _construct(t,arguments,_get_prototype_of(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_set_prototype_of(r,t)})(t)}function _is_native_reflect_construct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_is_native_reflect_construct=function(){return!!t})()}function _ts_generator(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}function create_observer(){return new IntersectionObserver(function(t){var e=!0,r=!1,n=void 0;try{for(var o,i=t[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;a.isIntersecting&&(a.target.loaded||a.target.fetch_src(a.target.getAttribute("src")))}}catch(t){r=!0,n=t}finally{try{e||null==i.return||i.return()}finally{if(r)throw n}}},{root:document.body,rootMargin:"0px",threshold:1})}observer=void 0,document.documentElement.addEventListener("turbo:load",function(){observer&&(observer.disconnect(),observer=void 0),observer=create_observer()});var observer,PartialComponent=function(t){"use strict";function e(){_class_call_check(this,e);var t,r=[t=_call_super(this,e),_define_property(t,"loaded",void 0)][0];return _async_to_generator(function(){var t;return _ts_generator(this,function(e){switch(e.label){case 0:return[4,trigger("app::icon",["loader-circle","icon"])];case 1:return t=e.sent(),r.innerHTML='<div class="spinner constant flex">'.concat(t.outerHTML,"</div>"),[2]}})})(),t}return _inherits(e,t),_create_class(e,[{key:"error",value:function(){this.innerHTML='<div class="markdown-alert-warning">Could not display component.</div>'}},{key:"fetch_src",value:function(t){var e=this;fetch(t).then(function(t){return t.text()}).then(function(r){if(r.includes("<title>Uh oh!")){e.error();return}if(e.getAttribute("outerhtml")){var n=new DOMParser().parseFromString(r,"text/html");e.replaceWith.apply(e,_to_consumable_array(n.body.children))}else e.innerHTML='<div style="animation: grow 1 0.25s forwards running">'.concat(r,"</div>");globalThis["lib:".concat(t)]&&globalThis["lib:".concat(t)](),e.loaded=!0,e.setAttribute("loaded",e.loaded),setTimeout(function(){if(e.getAttribute("uses")){var t=!0,r=!1,n=void 0;try{for(var o,i=e.getAttribute("uses").split(",")[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;trigger(a)}}catch(t){r=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},15)}).catch(function(t){e.error(),console.error(t)})}},{key:"attributeChangedCallback",value:function(t,e,r){var n=this;switch(t){case"src":if(e===r&&!0!==this.getAttribute("loaded",loaded)){console.log("partial already loaded with unchanged src");return}this.loaded=!1,this.setAttribute("loaded",this.loaded),this.getAttribute("instant")?setTimeout(function(){n.fetch_src(r)},250):(void 0===observer&&(observer=create_observer()),setTimeout(function(){if(!observer){console.log("???"),window.location.reload();return}observer.observe(n)},500));break;case"uses":break;default:return}}}]),e}(_wrap_native_super(HTMLElement));_define_property(PartialComponent,"observedAttributes",["src","uses"]),customElements.define("include-partial",PartialComponent),define("PartialComponent",PartialComponent);